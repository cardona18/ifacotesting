<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
    <data>

        <!-- STOCK PICKING VIEWS -->

        <record model="ir.ui.view" id="stock_picking_form_purchases_gi">
            <field name="name">stock_picking_form</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <field name="purchase_ok" invisible="1"/>
                </xpath>



                <!-- <xpath expr="//button[@name='action_cancel']" position="attributes">
                    <attribute name="groups">purchases_gi.group_receptionist_pro,purchases_gi.group_receptionist_con_ser</attribute>    _________________-VERIFICAR
                </xpath> -->

                <xpath expr="//field[@name='origin']" position="attributes">
                    <attribute name="attrs">{'invisible': [('it_free', '=', True)]}</attribute>
                </xpath>

            
                <xpath expr="//field[@name='move_lines']" position="attributes">
                    <attribute name="invisible">0</attribute>
                </xpath>

                <xpath expr="//field[@name='picking_type_id']" position="attributes">
                    <attribute name="string">Almacén</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name='it_free' readonly="1" attrs="{'invisible': [('it_free', '=', True)]}"/>
                    <field name="lot"/>
                    <field name="purchase_order_id" invisible="0"/>
                    <field name="r_seq_order" readonly="1" attrs="{'invisible': [('it_free', '=', True)]}"/>
                    <field name="r_currency_id" readonly="1" attrs="{'invisible': [('it_free', '=', True)]}"/>
                    <field name="type_od_document" attrs="{'invisible': [('it_free', '=', True)]}"/>
                    <field name="num_of_doc" attrs="{'invisible': [('type_od_document', '=', 'bill')]}"/>
                    <field name="invoice_ids" widget="many2many_tags" domain="[('order_id','=', purchase_order_id)]"  attrs="{'invisible': ['|',('type_od_document', '=', 'remission'),('it_free', '=', True)]}"/>
                </xpath>

<!--                 <xpath expr="//field[@name='move_type']" position="after">
                    <field name="r_notes"/>
                </xpath>
 -->

                <!-- <xpath expr="//field[@name='date']" position="attributes">
                    <attribute name="string">Fecha</attribute>
                </xpath> -->

            </field>
        </record>

        <record id="action_purchase_view_picking" model="ir.actions.act_window" >
            <field name="name">Recepción de productos</field>
            <field name="res_model">stock.picking</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'purchase_ok':True}</field>
            <field name="domain">[('purchase_ok', '=', True)]</field>
        </record>

        <menuitem id="action_purch_view_picking_menu" parent="purchase.menu_procurement_management" name="Productos a recibir" action="action_purchase_view_picking" sequence="70"/>
        <!-- <menuitem id="action_purch_view_picking_menu" parent="purchase.menu_procurement_management" name="Productos a recibir" action="action_purchase_view_picking" sequence="70" groups="purchases_gi.group_receptionist_pro,purchases_gi.group_receptionist_con_ser,purchase.group_purchase_manager"/> -->

        <delete model="ir.ui.menu" id="purchase.menu_procurement_management_inventory" />
        <delete model="ir.ui.menu" id="purchase.menu_action_picking_tree_in_move" />


    </data>
</openerp>
